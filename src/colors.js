export const colorSet = {
  white: 0,
  black: 1,
  baseIndex: 2,
  paletteSize: 11,
  palette: [
    { '--white': '#FFFFFF' },
    { '--black': '#000000' },
    { '--gray-0': '#F8F9FA' },
    { '--gray-1': '#F1F3F5' },
    { '--gray-2': '#E9ECEF' },
    { '--gray-3': '#DEE2E6' },
    { '--gray-4': '#CED4DA' },
    { '--gray-5': '#ADB5BD' },
    { '--gray-6': '#868E96' },
    { '--gray-7': '#495057' },
    { '--gray-8': '#343A40' },
    { '--gray-9': '#212529' },
    { '--red-0': '#FFF5F5' },
    { '--red-1': '#FFE3E3' },
    { '--red-2': '#FFC9C9' },
    { '--red-3': '#FFA8A8' },
    { '--red-4': '#FF8787' },
    { '--red-5': '#FF6B6B' },
    { '--red-6': '#FA5252' },
    { '--red-7': '#F03E3E' },
    { '--red-8': '#E03131' },
    { '--red-9': '#C92A2A' },
    { '--pink-0': '#FFF0F6' },
    { '--pink-1': '#FFDEEB' },
    { '--pink-2': '#FCC2D7' },
    { '--pink-3': '#FAA2C1' },
    { '--pink-4': '#F783AC' },
    { '--pink-5': '#F06595' },
    { '--pink-6': '#E64980' },
    { '--pink-7': '#D6336C' },
    { '--pink-8': '#C2255C' },
    { '--pink-9': '#A61E4D' },
    { '--grape-0': '#F8F0FC' },
    { '--grape-1': '#F3D9FA' },
    { '--grape-2': '#EEBEFA' },
    { '--grape-3': '#E599F7' },
    { '--grape-4': '#DA77F2' },
    { '--grape-5': '#CC5DE8' },
    { '--grape-6': '#BE4BDB' },
    { '--grape-7': '#AE3EC9' },
    { '--grape-8': '#9C36B5' },
    { '--grape-9': '#862E9C' },
    { '--violet-0': '#F3F0FF' },
    { '--violet-1': '#E5DBFF' },
    { '--violet-2': '#D0BFFF' },
    { '--violet-3': '#B197FC' },
    { '--violet-4': '#9775FA' },
    { '--violet-5': '#845EF7' },
    { '--violet-6': '#7950F2' },
    { '--violet-7': '#7048E8' },
    { '--violet-8': '#6741D9' },
    { '--violet-9': '#5F3DC4' },
    { '--indigo-0': '#EDF2FF' },
    { '--indigo-1': '#DBE4FF' },
    { '--indigo-2': '#BAC8FF' },
    { '--indigo-3': '#91A7FF' },
    { '--indigo-4': '#748FFC' },
    { '--indigo-5': '#5C7CFA' },
    { '--indigo-6': '#4C6EF5' },
    { '--indigo-7': '#4263EB' },
    { '--indigo-8': '#3B5BDB' },
    { '--indigo-9': '#364FC7' },
    { '--blue-0': '#E7F5FF' },
    { '--blue-1': '#D0EBFF' },
    { '--blue-2': '#A5D8FF' },
    { '--blue-3': '#74C0FC' },
    { '--blue-4': '#4DABF7' },
    { '--blue-5': '#339AF0' },
    { '--blue-6': '#228BE6' },
    { '--blue-7': '#1C7ED6' },
    { '--blue-8': '#1971C2' },
    { '--blue-9': '#1864AB' },
    { '--cyan-0': '#E3FAFC' },
    { '--cyan-1': '#C5F6FA' },
    { '--cyan-2': '#99E9F2' },
    { '--cyan-3': '#66D9E8' },
    { '--cyan-4': '#3BC9DB' },
    { '--cyan-5': '#22B8CF' },
    { '--cyan-6': '#15AABF' },
    { '--cyan-7': '#1098AD' },
    { '--cyan-8': '#0C8599' },
    { '--cyan-9': '#0B7285' },
    { '--teal-0': '#E6FCF5' },
    { '--teal-1': '#C3FAE8' },
    { '--teal-2': '#96F2D7' },
    { '--teal-3': '#63E6BE' },
    { '--teal-4': '#38D9A9' },
    { '--teal-5': '#20C997' },
    { '--teal-6': '#12B886' },
    { '--teal-7': '#0CA678' },
    { '--teal-8': '#099268' },
    { '--teal-9': '#087F5B' },
    { '--green-0': '#EBFBEE' },
    { '--green-1': '#D3F9D8' },
    { '--green-2': '#B2F2BB' },
    { '--green-3': '#8CE99A' },
    { '--green-4': '#69DB7C' },
    { '--green-5': '#51CF66' },
    { '--green-6': '#40C057' },
    { '--green-7': '#37B24D' },
    { '--green-8': '#2F9E44' },
    { '--green-9': '#2B8A3E' },
    { '--lime-0': '#F4FCE3' },
    { '--lime-1': '#E9FAC8' },
    { '--lime-2': '#D8F5A2' },
    { '--lime-3': '#C0EB75' },
    { '--lime-4': '#A9E34B' },
    { '--lime-5': '#94D82D' },
    { '--lime-6': '#82C91E' },
    { '--lime-7': '#74B816' },
    { '--lime-8': '#66A80F' },
    { '--lime-9': '#5C940D' },
    { '--yellow-0': '#FFF9DB' },
    { '--yellow-1': '#FFF3BF' },
    { '--yellow-2': '#FFEC99' },
    { '--yellow-3': '#FFE066' },
    { '--yellow-4': '#FFD43B' },
    { '--yellow-5': '#FCC419' },
    { '--yellow-6': '#FAB005' },
    { '--yellow-7': '#F59F00' },
    { '--yellow-8': '#F08C00' },
    { '--yellow-9': '#E67700' },
    { '--orange-0': '#FFF4E6' },
    { '--orange-1': '#FFE8CC' },
    { '--orange-2': '#FFD8A8' },
    { '--orange-3': '#FFC078' },
    { '--orange-4': '#FFA94D' },
    { '--orange-5': '#FF922B' },
    { '--orange-6': '#FD7E14' },
    { '--orange-7': '#F76707' },
    { '--orange-8': '#E8590C' },
    { '--orange-9': '#D9480F' },
    { '--neon-pink-1': '#FF00FF' },
    { '--neon-pink-2': '#FF0088' },
    { '--neon-pink-3': '#FF0044' },
    { '--neon-pink-4': '#FF0022' },
    { '--neon-pink-5': '#FF00FF' },
    { '--neon-pink-6': '#FF0088' },
    { '--neon-pink-7': '#FF0044' },
    { '--neon-pink-8': '#FF0022' },
    { '--neon-pink-9': '#FF00FF' }
  ]
}

export const neon = {
  yellow: ['#FFFF00', '#FFFF33', '#F2EA02', '#E6FB04'],
  red: ['#FF0000', '#FD1C03', '#FF3300', '#FF6600'],
  green: ['#00FF00', '#00FF33', '#00FF66', '#33FF00'],
  blue: ['#00FFFF', '#099FFF', '#0062FF', '#0033FF'],
  pink: ['#FF00FF', '#FF00CC', '#FF0099', '#CC00FF'],
  purple: ['#9D00FF', '#CC00FF', '#6E0DD0', '#9900FF']
}

export const neonLights = {
  yellow: ['#FFFF00', '#FFFF88', '#FFFF44', '#FFFF22'],
  red: ['#FF0000', '#FF00EE', '#FF00DD', '#FF00CC'],
  green: ['#00FF00', '#00FF33', '#00FF66', '#33FF00'],
  blue: ['#00FFFF', '#099FFF', '#0062FF', '#0033FF'],
  pink: ['#FF00FF', '#FF0088', '#FF0044', '#FF0022']
}

export const neonRoots = {
  red: {
    base: '#FF0000',
    mask: 0
  },
  green: {
    base: '#00FF00',
    mask: 1
  },
  blue: {
    base: '#0000FF',
    mask: 2
  }
}

export const createNeons = (neonRoot, size) => {
  const { mask, base } = neonRoot
  const result = []
  const stepSize = 255 / size
  let index = 255
  while (index > 0) {
    result.push(base)
    let newColor = [0, 0, 0]
    newColor[mask] = 255
    for (let rgbIndex = 0; rgbIndex < 3; rgbIndex++) {
      if (rgbIndex === mask) {
        continue
      }
      newColor[rgbIndex] += stepSize
      result.push(
        `#${newColor[0].toString(16)}${newColor[1].toString(
          16
        )}${newColor[2].toString(16)}`
      )
    }
    index -= stepSize
  }
  return result
}

export const generateNeonCSS = size => {
  const lines = []
  const count = 0
  for (const color of Object.keys(neonRoots)) {
    const neons = createNeons(root, size)
    for (const neon of neons) {
      lines.push(`neon-${color}-${count}-fg { color: ${neon}}`)
      lines.push(`neon-${color}-${count}-bg { backgroundColor: ${neon}}`)
    }
  }
  return lines.join('\r')
}

export const colorNames = [
  'gray',
  'red',
  'pink',
  'grape',
  'violet',
  'indigo',
  'blue',
  'cyan',
  'teal',
  'green',
  'lime',
  'yellow',
  'orange'
]
const {
  gray,
  red,
  pink,
  grape,
  violet,
  indigo,
  blue,
  cyan,
  teal,
  green,
  lime,
  yellow,
  orange
} = colorNames

colorSet.numGradients = (colorSet.palette.length - 2) / 10

//const mulberry32 = seed => {
//  return () => {
//    let t = (seed += 0x6d2b79f5)
//    t = Math.imul(t ^ (t >>> 15), t | 1)
//    t ^= t + Math.imul(t ^ (t >>> 7), t | 61)
//    return ((t ^ (t >>> 14)) >>> 0) / 4294967296
//  }
//}
//
////const MULBERRY32 = mulberry32(new Date().getTime())
//const MULBERRY32 = Math.random

function RND(max) {
  return Math.floor(Math.random() * max)
}

export const randomColor = (min, max, exclude = null) => {
  const maxPaletteIndex = colorSet.palette.length / colorSet.paletteSize
  const colorIndex = RND(max - min) + min

  let fgPaletteIndex = RND(maxPaletteIndex)
  let bgPaletteIndex = RND(maxPaletteIndex)
  if (exclude !== null) {
    while (fgPaletteIndex === exclude.fgPaletteIndex) {
      fgPaletteIndex = RND(maxPaletteIndex)
    }
    while (bgPaletteIndex === exclude.bgPaletteIndex) {
      bgPaletteIndex = RND(maxPaletteIndex)
    }
  }

  const fgColorIndex =
    fgPaletteIndex * colorSet.paletteSize + colorIndex + colorSet.baseIndex
  const bgColorIndex =
    bgPaletteIndex * colorSet.paletteSize + colorIndex + colorSet.baseIndex

  const fgProp = colorSet.palette[fgColorIndex % colorSet.palette.length]
  const bgProp = colorSet.palette[bgColorIndex % colorSet.palette.length]
  try {
    return {
      fgPaletteIndex,
      bgPaletteIndex,
      fg: {
        name: Object.keys(fgProp)[0],
        value: fgProp[Object.keys(fgProp)[0]]
      },
      bg: {
        name: Object.keys(bgProp)[0],
        value: bgProp[Object.keys(bgProp)[0]]
      }
    }
  } catch (e) {
    console.error(`Exception choosing random color.`)
    debugger
  }
}

export const randomLinearGradient = numStops => {
  const degree = RND(360)
  const css = [`linear-gradient(${degree}deg`]

  while (--numStops > 0) {
    // pick a new color that is different from previous color
    const newColors = randomColor(1, 9, numStops[numStops.length - 1])
    css.push(`${newColors.fg.value}, ${newColors.bg.value})`)
  }
  return css.join(',')
}
